# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞

## üìã –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ (–ø–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/iskandarsadykov/PhpstormProjects/bybit

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ artisan —Ä–∞–±–æ—Ç–∞–µ—Ç
php artisan --version
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:

```env
# –†–µ–∂–∏–º —Ç–æ—Ä–≥–æ–≤–ª–∏ (false = —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º, true = —Ä–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è)
REAL_TRADING=false

# Bybit –æ–∫—Ä—É–∂–µ–Ω–∏–µ (testnet –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
BYBIT_ENV=testnet

# API –∫–ª—é—á–∏ Bybit
BYBIT_API_KEY=your_testnet_api_key
BYBIT_API_SECRET=your_testnet_api_secret

# –ê–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
APP_ADMIN_EMAIL=your@email.com
APP_ADMIN_PASSWORD=your_password
APP_ADMIN_NAME=Admin
```

### –®–∞–≥ 3: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–∫–∫–∞—É–Ω—Ç Bybit
php artisan setup

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–æ–∑–¥–∞–ª–æ—Å—å:
php artisan tinker
>>> \App\Models\User::count()
>>> \App\Models\ExchangeAccount::count()
>>> exit
```

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ (—Å–∏–º–≤–æ–ª, —Ç–∞–π–º—Ñ—Ä–µ–π–º, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ USDT)
php artisan bybit-bot:create BTCUSDT 5m rsi_ema 10

# –ò–ª–∏ –¥–ª—è –¥—Ä—É–≥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞:
php artisan bybit-bot:create ETHUSDT 15m rsi_ema 20
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `symbol` - —Ç–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞ (BTCUSDT, ETHUSDT –∏ —Ç.–¥.)
- `timeframe` - —Ç–∞–π–º—Ñ—Ä–µ–π–º (5m, 15m, 1h –∏ —Ç.–¥.)
- `strategy` - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ rsi_ema)
- `position_size` - —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ USDT (–º–∏–Ω–∏–º—É–º 1 USDT)

### –®–∞–≥ 5: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±–æ—Ç–∞

```bash
# –í–æ–π—Ç–∏ –≤ tinker
php artisan tinker

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ 1 –Ω–∞ ID –≤–∞—à–µ–≥–æ –±–æ—Ç–∞)
>>> $bot = \App\Models\TradingBot::find(1);
>>> $bot->update(['is_active' => true]);
>>> exit
```

–ò–ª–∏ —á–µ—Ä–µ–∑ SQL:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –±–æ—Ç—ã
php artisan tinker
>>> \App\Models\TradingBot::all();
>>> exit

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ SQL (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sqlite3 database/database.sqlite
UPDATE trading_bots SET is_active = 1 WHERE id = 1;
.exit
```

### –®–∞–≥ 6: –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤
php artisan bots:run
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É
- –ü–æ–ª—É—á–∞–µ—Ç —Å–≤–µ—á–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (RSI, EMA)
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ (BUY/SELL/HOLD)
- –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª BUY –∏ –µ—Å—Ç—å –±–∞–ª–∞–Ω—Å - –ø–æ–∫—É–ø–∞–µ—Ç
- –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª SELL –∏ –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è - –ø—Ä–æ–¥–∞–µ—Ç

### –®–∞–≥ 7: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ä–¥–µ—Ä–æ–≤ (–≤–∞–∂–Ω–æ!)

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –æ—Ä–¥–µ—Ä–æ–≤
php artisan orders:sync
```

**–≠—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ** (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —á–µ—Ä–µ–∑ cron) –¥–ª—è:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ä–¥–µ—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- –ó–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –∏ —Ä–∞—Å—á–µ—Ç–∞ PnL

---

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```bash
# –û—Ç–∫—Ä—ã—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫–∏:
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * cd /Users/iskandarsadykov/PhpstormProjects/bybit && php artisan bots:run >> /dev/null 2>&1

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ä–¥–µ—Ä–æ–≤ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
* * * * * cd /Users/iskandarsadykov/PhpstormProjects/bybit && php artisan orders:sync >> /dev/null 2>&1
```

### –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Laravel Scheduler

–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É –≤ `app/Console/Kernel.php` (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ cron –Ω–∞–ø—Ä—è–º—É—é.

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f storage/logs/laravel.log

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Laravel Pail
php artisan pail
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ tinker

```bash
php artisan tinker

# –ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ—Ç—ã
>>> \App\Models\TradingBot::where('is_active', true)->get();

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏
>>> \App\Models\Trade::latest()->take(10)->get();

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±–æ—Ç—É
>>> $bot = \App\Models\TradingBot::find(1);
>>> $bot->trades()->where('status', 'FILLED')->count();
>>> $bot->trades()->sum('realized_pnl');

# –ë–∞–ª–∞–Ω—Å (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω API)
>>> $account = \App\Models\ExchangeAccount::first();
>>> $bybit = new \App\Services\Exchanges\Bybit\BybitService($account);
>>> $bybit->getBalance('USDT');
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (DRY RUN)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:
- `REAL_TRADING=false` –≤ .env
- –ò–ª–∏ `dry_run=true` —É –±–æ—Ç–∞

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –±–æ—Ç **–ù–ï —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏**, —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –±—ã —Å–¥–µ–ª–∞–ª.

### 2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

**–û–°–¢–û–†–û–ñ–ù–û!** –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```env
REAL_TRADING=true
BYBIT_ENV=production
```

–ò —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ testnet –º–∏–Ω–∏–º—É–º –Ω–µ–¥–µ–ª—é
- ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç–µ —Ä–∏—Å–∫–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ –¥–µ–Ω—å–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–æ—Ç–æ–≤—ã –ø–æ—Ç–µ—Ä—è—Ç—å

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ–π. –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:
- –ü–æ–∫—É–ø–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
- –í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É

---

## üéØ –¢–∏–ø–∏—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–æ–¥–∏–Ω —Ä–∞–∑):

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
php artisan setup

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
php artisan bybit-bot:create BTCUSDT 5m rsi_ema 10

# 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±–æ—Ç–∞
php artisan tinker
>>> \App\Models\TradingBot::find(1)->update(['is_active' => true]);
>>> exit
```

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞:

```bash
# 1. –ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤ (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ cron)
php artisan bots:run

# 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ä–¥–µ—Ä–æ–≤ (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —á–µ—Ä–µ–∑ cron)
php artisan orders:sync

# 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
tail -f storage/logs/laravel.log
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ß–µ–∫–ª–∏—Å—Ç:

- [ ] `php artisan setup` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –ë–æ—Ç —Å–æ–∑–¥–∞–Ω: `php artisan bybit-bot:create ...`
- [ ] –ë–æ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: `is_active = true`
- [ ] `php artisan bots:run` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏
- [ ] `php artisan orders:sync` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Cron –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f storage/logs/laravel.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
php artisan config:clear
php artisan cache:clear
```

### –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤:
```bash
php artisan tinker
>>> \App\Models\TradingBot::where('is_active', true)->count();
```

### –û—à–∏–±–∫–∏ API:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–ª—è testnet/production
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ –±–∏—Ä–∂–µ

---

## üìù –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)
php artisan setup

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
php artisan bybit-bot:create BTCUSDT 5m rsi_ema 10

# 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è
php artisan tinker
>>> \App\Models\TradingBot::find(1)->update(['is_active' => true]);
>>> exit

# 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
php artisan bots:run

# 5. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
php artisan orders:sync

# 6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
tail -f storage/logs/laravel.log
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –±–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ë–î.
