# Восстановление Spot ордеров

## Проблема

Команда `trades:recover-bybit` не возвращает ордера, хотя в Bybit есть завершенные spot ордера.

## Что исправлено

1. **Убран `accountType` из `getOrdersHistory()`** - для spot ордеров он не нужен
   - `accountType` используется только для фьючерсов и опционов
   - Для spot ордеров достаточно `category=spot`

2. **Убран временной фильтр** - теперь получаем все ордера (без ограничения по времени)
   - Можно добавить `startTime` позже, если нужно ограничить период

## Использование

```bash
php artisan trades:recover-bybit --symbol=BTCUSDT
```

## Возможные причины пустого списка

1. **Ордера действительно отсутствуют** - проверьте на сайте Bybit
2. **Ордера слишком старые** - Bybit может ограничивать историю
3. **Символ не совпадает** - убедитесь что используете правильный символ (BTCUSDT, ETHUSDT и т.д.)

## Проверка на сайте Bybit

1. Зайдите на bybit.com
2. Перейдите в **Order History** → **Spot**
3. Проверьте есть ли завершенные ордера для нужного символа
4. Проверьте дату последних ордеров

## Диагностика

Если ордера все еще не возвращаются:

1. Проверьте что API ключ имеет права **Read**
2. Проверьте что используете правильный аккаунт (production/testnet)
3. Попробуйте получить ордера без фильтра по символу (временно)
4. Проверьте логи: `tail -f storage/logs/laravel.log`
