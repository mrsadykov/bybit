# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Telegram

## üìä –ß—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ

–ü—Ä–∏—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ:
- ‚úÖ "NO ACTION TAKEN" (HOLD) - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ "BOTS RUN STARTED" - —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ù–ï –ø—Ä–∏—Ö–æ–¥—è—Ç:**
- ‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ BUY
- ‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ SELL
- ‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–π

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ë–æ—Ç—ã –Ω–µ —Å–æ–≤–µ—Ä—à–∞—é—Ç —Å–¥–µ–ª–∫–∏ (—Ç–æ–ª—å–∫–æ HOLD)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏
php artisan trades:recover

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f storage/logs/laravel-$(date +%Y-%m-%d).log | grep -E "(BUY|SELL|FILLED)"
```

**–ï—Å–ª–∏ —Å–¥–µ–ª–æ–∫ –Ω–µ—Ç:**
- –ë–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ HOLD —Å–∏–≥–Ω–∞–ª—ã
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —Ä—ã–Ω–æ–∫ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞

---

### 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–∫–∞—Ö

**–õ–æ–≥–∏–∫–∞:**
- `notifyBuy()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–î–û** –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –±–∏—Ä–∂—É
- `notifySell()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–î–û** –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –±–∏—Ä–∂—É
- `notifyFilled()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–ü–û–°–õ–ï** –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
# –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ: /dashboard

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ "BUY order initiated" –∏–ª–∏ "SELL order initiated"
tail -f storage/logs/laravel-$(date +%Y-%m-%d).log | grep "order initiated"
```

---

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π Telegram

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
php artisan tinker
>>> config('services.telegram.bot_token')
>>> config('services.telegram.chat_id')
```

**–ï—Å–ª–∏ –ø—É—Å—Ç–æ:**
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `.env`:
  ```
  TELEGRAM_BOT_TOKEN=your_token
  TELEGRAM_CHAT_ID=your_chat_id
  ```

---

### 4. –ë–æ—Ç—ã –≤ —Ä–µ–∂–∏–º–µ DRY RUN

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –±–æ—Ç–æ–≤
php artisan tinker
>>> App\Models\TradingBot::where('is_active', true)->get(['id', 'symbol', 'dry_run'])
```

**–ï—Å–ª–∏ `dry_run = true`:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, –Ω–æ —Å –ø–æ–º–µ—Ç–∫–æ–π "–¢–ï–°–¢–û–í–´–ô –†–ï–ñ–ò–ú"
- –°–¥–µ–ª–∫–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π –±–∏—Ä–∂–µ

---

### 5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, –Ω–æ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
```bash
# –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ Telegram API
tail -f storage/logs/laravel-$(date +%Y-%m-%d).log | grep -i "telegram"
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `Telegram API error` - –ø—Ä–æ–±–ª–µ–º–∞ —Å API
- `Telegram not configured` - –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω bot_token –∏–ª–∏ chat_id
- `Telegram send error` - –æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏

---

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ —Å–¥–µ–ª–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏ –≤ –ë–î
php artisan tinker
>>> App\Models\Trade::latest()->limit(10)->get(['id', 'side', 'symbol', 'status', 'created_at'])
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ª–∏ –º–µ—Ç–æ–¥—ã notifyBuy/notifySell
tail -100 storage/logs/laravel-$(date +%Y-%m-%d).log | grep -E "(notifyBuy|notifySell|BUY order|SELL order)"
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Telegram

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
grep TELEGRAM .env
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
php artisan tinker
>>> $telegram = new App\Services\TelegramService();
>>> $telegram->sendMessage('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- [ ] –ï—Å—Ç—å –ª–∏ —Å–¥–µ–ª–∫–∏ –≤ –ë–î? (`php artisan trades:recover`)
- [ ] –ï—Å—Ç—å –ª–∏ –ª–æ–≥–∏ "BUY order initiated" –∏–ª–∏ "SELL order initiated"?
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ Telegram? (`config('services.telegram.bot_token')`)
- [ ] –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö? (`grep -i telegram storage/logs/laravel-*.log`)
- [ ] –ë–æ—Ç—ã –≤ —Ä–µ–∂–∏–º–µ DRY RUN? (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î)
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Ç–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞? (`$telegram->sendMessage('test')`)

---

## üí° –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ BUY/SELL –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞:**
1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª BUY –∏–ª–∏ SELL (–Ω–µ HOLD)
2. –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É (–±–∞–ª–∞–Ω—Å, –Ω–µ—Ç –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ç.–¥.)
3. –ë–æ—Ç –Ω–µ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ–ø—É—Å–∫–∞ (dry_run –∏–ª–∏ —Ä–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è)

**–ï—Å–ª–∏ –±–æ—Ç—ã –¥–∞—é—Ç —Ç–æ–ª—å–∫–æ HOLD:**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –ó–Ω–∞—á–∏—Ç —Ä—ã–Ω–æ–∫ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ HOLD –ø—Ä–∏—Ö–æ–¥—è—Ç (–∫–∞–∫ –≤–∏–¥–Ω–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ)
- –ö–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–∏–≥–Ω–∞–ª BUY/SELL, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏–¥–µ—Ç

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏
php artisan trades:recover

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
tail -1000 storage/logs/laravel-$(date +%Y-%m-%d).log | grep -E "(BUY|SELL|notify)"

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
php artisan tinker
>>> config('services.telegram')
```

---

**–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã, –Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç - –ø—Ä–∏—à–ª–∏—Ç–µ –ª–æ–≥–∏!** üìù
