# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

## üìä –¢–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–±–ª–µ–º—ã:
1. **–û—á–µ–Ω—å –º–∞–ª–æ —Å–¥–µ–ª–æ–∫** (1-3 –∑–∞ 500 —Å–≤–µ—á–µ–π = ~20 –¥–Ω–µ–π)
   - BTCUSDT: 1 —Å–¥–µ–ª–∫–∞
   - ETHUSDT: 3 —Å–¥–µ–ª–∫–∏
   - SOLUSDT: 1 —Å–¥–µ–ª–∫–∞
   - BNBUSDT: 0 —Å–¥–µ–ª–æ–∫

2. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** (-0.03% –≤ —Å—Ä–µ–¥–Ω–µ–º)
   - BTCUSDT: -0.02%
   - ETHUSDT: 0.00%
   - SOLUSDT: -0.07%

3. **–ù–∏–∑–∫–∏–π Win Rate** (33.33%)
   - –¢–æ–ª—å–∫–æ ETHUSDT –ø–æ–∫–∞–∑–∞–ª 1 –ø—Ä–∏–±—ã–ª—å–Ω—É—é —Å–¥–µ–ª–∫—É –∏–∑ 3

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ API
- ‚úÖ –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å—Ç—å —Å–¥–µ–ª–∫–∏)
- ‚úÖ Stop-Loss –∏ Take-Profit —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üîç –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º

### 1. –ü–æ—Ä–æ–≥–∏ RSI –≤—Å–µ –µ—â–µ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ
- **–¢–µ–∫—É—â–∏–µ**: 40/60
- **–ü—Ä–æ–±–ª–µ–º–∞**: –î–∞–∂–µ 40/60 –¥–∞—é—Ç –º–∞–ª–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ 1h
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å 45/55 –∏–ª–∏ –¥–∞–∂–µ 50/50

### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **500 —Å–≤–µ—á–µ–π –Ω–∞ 1h** = ~20 –¥–Ω–µ–π
- **1-3 —Å–¥–µ–ª–∫–∏** = –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –¥–æ 1000 —Å–≤–µ—á–µ–π (~40 –¥–Ω–µ–π)

### 3. –†—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- –í–æ–∑–º–æ–∂–Ω–æ, —Ä—ã–Ω–æ–∫ –±—ã–ª –≤ –±–æ–∫–æ–≤–æ–º —Ç—Ä–µ–Ω–¥–µ (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è RSI+EMA —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –®–∞–≥ 1: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –º—è–≥–∫–∏–µ –ø–æ—Ä–æ–≥–∏ RSI

```bash
# –¢–µ—Å—Ç —Å –ø–æ—Ä–æ–≥–∞–º–∏ 45/55 (–±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ)
php artisan strategy:backtest BTCUSDT --timeframe=1h --exchange=okx \
  --period=1000 --rsi-period=17 --ema-period=10 \
  --rsi-buy-threshold=45 --rsi-sell-threshold=55 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json

# –¢–µ—Å—Ç —Å –ø–æ—Ä–æ–≥–∞–º–∏ 50/50 (–æ—á–µ–Ω—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ)
php artisan strategy:backtest BTCUSDT --timeframe=1h --exchange=okx \
  --period=1000 --rsi-period=17 --ema-period=10 \
  --rsi-buy-threshold=50 --rsi-sell-threshold=50 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json
```

### –®–∞–≥ 2: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞

```bash
# –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –≤—Å–µ—Ö –±–æ—Ç–æ–≤ —Å –ø–µ—Ä–∏–æ–¥–æ–º 1000 —Å–≤–µ—á–µ–π
php artisan strategy:backtest-all --period=1000 --exchange=okx \
  --output=backtest_results_1000.json
```

### –®–∞–≥ 3: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã

```bash
# –¢–µ—Å—Ç –Ω–∞ 15m (–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ —Å–∏–≥–Ω–∞–ª—ã)
php artisan strategy:backtest BTCUSDT --timeframe=15m --exchange=okx \
  --period=1000 --rsi-period=17 --ema-period=10 \
  --rsi-buy-threshold=40 --rsi-sell-threshold=60 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json

# –¢–µ—Å—Ç –Ω–∞ 4h (–º–µ–Ω–µ–µ —á–∞—Å—Ç—ã–µ, –Ω–æ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã)
php artisan strategy:backtest BTCUSDT --timeframe=4h --exchange=okx \
  --period=500 --rsi-period=17 --ema-period=10 \
  --rsi-buy-threshold=40 --rsi-sell-threshold=60 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json
```

### –®–∞–≥ 4: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã RSI/EMA

```bash
# –¢–µ—Å—Ç —Å –¥—Ä—É–≥–∏–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ RSI/EMA
php artisan strategy:backtest BTCUSDT --timeframe=1h --exchange=okx \
  --period=1000 --rsi-period=14 --ema-period=20 \
  --rsi-buy-threshold=40 --rsi-sell-threshold=60 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

**–û–±–Ω–æ–≤–∏—Ç—å `BacktestAllBotsCommand.php`:**
```php
$rsiBuyThreshold = 45.0;  // –±—ã–ª–æ 40.0
$rsiSellThreshold = 55.0;  // –±—ã–ª–æ 60.0
```

**–ü–ª—é—Å—ã:**
- –ë–æ–ª—å—à–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- –ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- –ë–æ–ª—å—à–µ –∫–æ–º–∏—Å—Å–∏–π
- –ë–æ–ª—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞

**–ò–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
```php
// –í BacktestAllBotsCommand.php
$period = (int) $this->option('period') ?: 1000;  // –±—ã–ª–æ 500
```

**–ü–ª—é—Å—ã:**
- –ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ú–∏–Ω—É—Å—ã:**
- –î–æ–ª—å—à–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- **15m**: –ë–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–æ –±–æ–ª—å—à–µ —à—É–º–∞
- **1h**: –¢–µ–∫—É—â–∏–π (–±–∞–ª–∞–Ω—Å)
- **4h**: –ú–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–æ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–µ

---

## üìù –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –°–µ–≥–æ–¥–Ω—è:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å –ø–æ—Ä–æ–≥–∞–º–∏ 45/55 –∏ –ø–µ—Ä–∏–æ–¥–æ–º 1000
2. ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. ‚úÖ –í—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ:
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞—Ö
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã RSI/EMA
3. –í—ã–±—Ä–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞

### –ü–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π:
1. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
2. ‚úÖ Win Rate > 50%
3. ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–¥–µ–ª–æ–∫ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (> 20)
4. ‚úÖ –ù–∞—á–∞—Ç—å —Å –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å—É–º–º (5-10 USDT)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ ‚â† —Ä–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è:**
   - –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
   - –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ API
   - –†–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

2. **–ú–∞–ª–æ —Å–¥–µ–ª–æ–∫ = –ø–ª–æ—Ö–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
   - 1-3 —Å–¥–µ–ª–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–æ–≤
   - –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 20-30 —Å–¥–µ–ª–æ–∫ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

3. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å:**
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –ù—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

4. **–ù–∞—á–Ω–∏—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—É–º–º:**
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–∏–µ —Å—É–º–º—ã —Å—Ä–∞–∑—É
   - –ù–∞—á–Ω–∏—Ç–µ —Å 5-10 USDT
   - –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üéØ –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

–î–ª—è —É—Å–ø–µ—à–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω—É–∂–Ω–æ:
- ‚úÖ **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫**: > 20 –∑–∞ –ø–µ—Ä–∏–æ–¥
- ‚úÖ **Win Rate**: > 50%
- ‚úÖ **–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å**: > 0% (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ > 5%)
- ‚úÖ **Profit Factor**: > 1.0 (Total Profit / Total Loss)

---

## üìä –°–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# 1. –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å –±–æ–ª–µ–µ –º—è–≥–∫–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏ –∏ –±–æ–ª—å—à–∏–º –ø–µ—Ä–∏–æ–¥–æ–º
php artisan strategy:backtest-all --period=1000 --exchange=okx \
  --output=backtest_results_optimized.json

# 2. –¢–µ—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
php artisan strategy:backtest BTCUSDT --timeframe=1h --exchange=okx \
  --period=1000 --rsi-period=17 --ema-period=10 \
  --rsi-buy-threshold=45 --rsi-sell-threshold=55 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json

# 3. –¢–µ—Å—Ç –Ω–∞ –¥—Ä—É–≥–æ–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ
php artisan strategy:backtest BTCUSDT --timeframe=15m --exchange=okx \
  --period=1000 --rsi-period=17 --ema-period=10 \
  --rsi-buy-threshold=40 --rsi-sell-threshold=60 \
  --position-size=5 --stop-loss=3 --take-profit=6 --json
```

---

## üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥–∏)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –º—è–≥–∫–∏–µ –ø–æ—Ä–æ–≥–∏, –æ–±–Ω–æ–≤–∏—Ç–µ `BacktestAllBotsCommand.php`:

```php
// –°—Ç—Ä–æ–∫–∞ 52-53
$rsiBuyThreshold = 45.0;   // –±—ã–ª–æ 40.0
$rsiSellThreshold = 55.0;  // –±—ã–ª–æ 60.0
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
php artisan strategy:backtest-all --period=1000 --exchange=okx
```

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å –±–æ–ª–µ–µ –º—è–≥–∫–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏ (45/55) –∏ –ø–µ—Ä–∏–æ–¥–æ–º 1000, –∑–∞—Ç–µ–º –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!
