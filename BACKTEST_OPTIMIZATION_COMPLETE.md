# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ - –∑–∞–≤–µ—Ä—à–µ–Ω–æ

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ë–µ–∑ —É—Å–ª–æ–≤–∏—è EMA (–ø–æ—Ä–æ–≥–∏ 50/50):
- ‚úÖ **–ë–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫**: 4-5 (–±—ã–ª–æ 1-3)
- ‚úÖ **Win Rate**: 51.25% (–±—ã–ª–æ 33.33%)
- ‚úÖ **BNBUSDT Win Rate**: 80% (–æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!)
- ‚ùå **–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å**: -0.04% (–≤—Å–µ –µ—â–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è)

### –í—ã–≤–æ–¥—ã:
- –£–±—Ä–∞—Ç—å —É—Å–ª–æ–≤–∏–µ EMA –¥–∞–ª–æ –±–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫, –Ω–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –≤—Å–µ –µ—â–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è
- Win Rate —Ö–æ—Ä–æ—à–∏–π (51.25%), –Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏ –∏–∑-–∑–∞ –∫–æ–º–∏—Å—Å–∏–π
- –ù—É–∂–µ–Ω –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–¥–µ–ª–æ–∫ –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º —Å–∏–≥–Ω–∞–ª–æ–≤

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –í–µ—Ä–Ω—É—Ç–æ —É—Å–ª–æ–≤–∏–µ EMA (–º–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–æ–µ)

**–ë—ã–ª–æ (—Å—Ç—Ä–æ–≥–æ–µ):**
```php
if ($rsi < 50 && $currentPrice > $ema) return 'BUY';
if ($rsi > 50 && $currentPrice < $ema) return 'SELL';
```

**–°—Ç–∞–ª–æ (–º–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–æ–µ, –¥–æ–ø—É—Å–∫ 1%):**
```php
if ($rsi < 45 && $currentPrice >= $ema * 0.99) return 'BUY';  // —Ü–µ–Ω–∞ –Ω–µ –Ω–∏–∂–µ EMA –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 1%
if ($rsi > 55 && $currentPrice <= $ema * 1.01) return 'SELL'; // —Ü–µ–Ω–∞ –Ω–µ –≤—ã—à–µ EMA –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 1%
```

**–ü–ª—é—Å—ã:**
- –ë–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤, —á–µ–º —Å–æ —Å—Ç—Ä–æ–≥–∏–º —É—Å–ª–æ–≤–∏–µ–º
- –í—Å–µ –µ—â–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç—Ä–µ–Ω–¥ (EMA)
- –õ—É—á—à–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ª–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ—Ä–æ–≥–∏ RSI

**–ë—ã–ª–æ:** 50/50 (—Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ)
**–°—Ç–∞–ª–æ:** 45/55 (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å)

**–ü–æ—á–µ–º—É:**
- 50/50 –¥–∞–µ—Ç –º–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–æ –º–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö
- 45/55 –¥–∞–µ—Ç –º–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤, –Ω–æ –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ
- –í —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å –º–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–∏–º EMA —ç—Ç–æ –¥–∞—Å—Ç —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```bash
php artisan strategy:backtest-all --period=1000 --exchange=okx --output=backtest_results_optimized.json
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ë–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫, —á–µ–º —Å–æ —Å—Ç—Ä–æ–≥–∏–º EMA (–Ω–æ –º–µ–Ω—å—à–µ, —á–µ–º –±–µ–∑ EMA)
- –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ (–±–ª–∞–≥–æ–¥–∞—Ä—è —É—Å–ª–æ–≤–∏—é EMA)
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∏–ª–∏ –±–ª–∏–∑–∫–∞—è –∫ –Ω—É–ª—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å

### –®–∞–≥ 2: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 5-10)
- ‚úÖ Win Rate (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 50%)
- ‚úÖ –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 0% –∏–ª–∏ –±–ª–∏–∑–∫–∞ –∫ 0%)

### –®–∞–≥ 3: –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ö–æ—Ä–æ—à–∏–µ

**–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —Ä–µ–∞–ª—å–Ω—ã–º –±–æ—Ç–∞–º:**
1. –û–±–Ω–æ–≤–∏—Ç—å `RsiEmaStrategy.php` —Å –º–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–∏–º —É—Å–ª–æ–≤–∏–µ–º EMA
2. –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥–∏ RSI –Ω–∞ 45/55 (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å 40/60 –¥–ª—è –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏)
3. –ù–∞—á–∞—Ç—å —Å –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å—É–º–º (5-10 USDT)

### –®–∞–≥ 4: –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ –µ—â–µ –ø–ª–æ—Ö–∏–µ

**–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:**
1. –î—Ä—É–≥–∏–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã (15m, 4h)
2. –î—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã RSI/EMA (14/20, 21/50)
3. –î—Ä—É–≥–∏–µ –ø–æ—Ä–æ–≥–∏ RSI (40/60, 35/65)
4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (MACD, Bollinger Bands)

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –° –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (45/55 + –º–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–æ–µ EMA):

**–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫: 8-12
- Win Rate: 55-60%
- –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: 2-5%

**–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫: 5-8
- Win Rate: 50-55%
- –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: 0-2%

**–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫: 3-5
- Win Rate: 45-50%
- –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: -1% –¥–æ 0%

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

1. **BacktestStrategyCommand.php:**
   - –ú–µ—Ç–æ–¥ `getSignal()` –æ–±–Ω–æ–≤–ª–µ–Ω —Å –¥–æ–ø—É—Å–∫–æ–º EMA 1%

2. **BacktestAllBotsCommand.php:**
   - –ü–æ—Ä–æ–≥–∏ RSI –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ 45/55

3. **RsiEmaStrategy.php:**
   - –û—Å—Ç–∞–µ—Ç—Å—è —Å –ø–æ—Ä–æ–≥–∞–º–∏ 40/60 (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ú–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–æ–µ —É—Å–ª–æ–≤–∏–µ EMA:**
   - –î–æ–ø—É—Å–∫ 1% –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–º
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å (0.5%, 1.5%, 2%)

2. **–ü–æ—Ä–æ–≥–∏ RSI 45/55:**
   - –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
   - –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 40/60 (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–µ–µ)

3. **–ö–æ–º–∏—Å—Å–∏–∏:**
   - –¢–µ–∫—É—â–∞—è –∫–æ–º–∏—Å—Å–∏—è: 0.1% (0.001)
   - –†–µ–∞–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—à–µ (0.15-0.2%)
   - –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —ç—Ç–æ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

4. **–ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ:**
   - –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
   - –†–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ö—É–∂–µ –Ω–∞ 0.1-0.3%

---

## üìù –†–µ–∑—é–º–µ

‚úÖ **–£–±—Ä–∞—Ç—å —É—Å–ª–æ–≤–∏–µ EMA** –¥–∞–ª–æ –±–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫, –Ω–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –≤—Å–µ –µ—â–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è
‚úÖ **–í–µ—Ä–Ω—É—Ç—å —É—Å–ª–æ–≤–∏–µ EMA (–º–µ–Ω–µ–µ —Å—Ç—Ä–æ–≥–æ–µ)** –¥–æ–ª–∂–Ω–æ –¥–∞—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º
‚úÖ **–ü–æ—Ä–æ–≥–∏ 45/55** - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `php artisan strategy:backtest-all --period=1000 --exchange=okx` –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!
