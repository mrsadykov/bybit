# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å auto-pull.log

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:

1. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—É—Ç–µ–π**: –í cron —É–∫–∞–∑–∞–Ω `/var/www/bybit/`, –∞ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/var/www/trading-bot/`
2. **–õ–æ–≥ –ø—É—Å—Ç–æ–π**: –°–∫—Ä–∏–ø—Ç –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π –¥–æ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥
3. **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**: `set -e` –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ cron –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@89.104.70.142
crontab -e
```

**–ò—Å–ø—Ä–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:**
```bash
# –ë—ã–ª–æ:
*/5 * * * * /var/www/bybit/scripts/server-auto-pull.sh >/dev/null 2>&1

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
*/5 * * * * /var/www/trading-bot/scripts/server-auto-pull.sh >> /var/www/trading-bot/storage/logs/auto-pull.log 2>&1
```

**–ò–ª–∏ –ª—É—á—à–µ (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–æ–≤):**
```bash
*/5 * * * * /var/www/trading-bot/scripts/server-auto-pull.sh >/dev/null 2>&1
```

(–°–∫—Ä–∏–ø—Ç —Å–∞–º –ø–∏—à–µ—Ç –≤ –ª–æ–≥, –ø–æ—ç—Ç–æ–º—É `>/dev/null` –Ω–µ –º–µ—à–∞–µ—Ç)

### 2. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `scripts/server-auto-pull.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
scp scripts/server-auto-pull.sh root@89.104.70.142:/var/www/trading-bot/scripts/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@89.104.70.142
chmod +x /var/www/trading-bot/scripts/server-auto-pull.sh
chown www-data:www-data /var/www/trading-bot/scripts/server-auto-pull.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ª–æ–≥:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
touch /var/www/trading-bot/storage/logs/auto-pull.log
chown www-data:www-data /var/www/trading-bot/storage/logs/auto-pull.log
chmod 664 /var/www/trading-bot/storage/logs/auto-pull.log
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ - –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é
/var/www/trading-bot/scripts/server-auto-pull.sh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥
tail -f /var/www/trading-bot/storage/logs/auto-pull.log
```

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cron:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
crontab -l

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
*/5 * * * * /var/www/trading-bot/scripts/server-auto-pull.sh >/dev/null 2>&1
```

---

## üîç –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —Å–∫—Ä–∏–ø—Ç–µ:

1. ‚úÖ –£–±—Ä–∞–Ω `set -e` - —Ç–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –∞ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `log()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `run_cmd()` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ª–æ–≥–æ–≤
5. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Git
6. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
/var/www/trading-bot/scripts/server-auto-pull.sh

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥
cat /var/www/trading-bot/storage/logs/auto-pull.log

# 3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 –º–∏–Ω—É—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞ (cron –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è)
tail -f /var/www/trading-bot/storage/logs/auto-pull.log
```

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –ª–æ–≥ –≤—Å–µ –µ—â–µ –ø—É—Å—Ç–æ–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª:**
   ```bash
   ls -la /var/www/trading-bot/storage/logs/auto-pull.log
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ cron –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
   ```bash
   grep CRON /var/log/syslog | tail -20
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é —Å –≤—ã–≤–æ–¥–æ–º:**
   ```bash
   /var/www/trading-bot/scripts/server-auto-pull.sh 2>&1 | tee /tmp/test.log
   cat /tmp/test.log
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ cron:**
   ```bash
   crontab -l
   ```
